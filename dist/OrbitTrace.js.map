{"version":3,"file":"OrbitTrace.js","sources":["../src/dist/index.js"],"sourcesContent":["const PROJECT = 'orbit-trace';\nconst CURSOR_CLASS_NAME = `${PROJECT}-cursor`;\nconst CURSOR_BORDER_CLASS_NAME = `${CURSOR_CLASS_NAME}-border`;\nconst ON_HOVER_CLASS_NAME = `data-${PROJECT}`;\nclass OrbitTrace {\n    constructor(options) {\n        this.initialized = false;\n        this.options = {\n            easing: 8,\n            border: {\n                color: \"white\",\n                size: 50,\n                transition: 0.10,\n                width: 1\n            },\n            cursor: {\n                visible: false\n            }\n        };\n        this.options = { ...this.options, ...options };\n        const cursor = document.body.appendChild(this.createDiv(CURSOR_CLASS_NAME));\n        const cursorBorder = document.body.appendChild(this.createDiv(CURSOR_BORDER_CLASS_NAME));\n        this.cursor = {\n            self: cursor,\n            position: { x: 0, y: 0 },\n            border: {\n                self: cursorBorder,\n                position: { x: 0, y: 0 }\n            }\n        };\n        document.addEventListener(\"mousemove\", this.onMouseMove.bind(this));\n        this.handleGesture();\n        this.createStyle();\n        this.onHover();\n        this.loop();\n    }\n    onMouseMove(event) {\n        if (!this.initialized) {\n            this.cursor.self.style.opacity = \"1\";\n            this.cursor.border.self.style.opacity = \"1\";\n            this.initialized = true;\n        }\n        this.cursor.position.x = event.clientX;\n        this.cursor.position.y = event.clientY;\n        this.cursor.self.style.transform = `translate(${event.clientX}px, ${event.clientY}px)`;\n    }\n    onHover() {\n        const cursorBorder = this.cursor.border.self;\n        document.querySelectorAll(`[${ON_HOVER_CLASS_NAME}]`).forEach((item) => {\n            item.addEventListener(\"mouseover\", (_) => {\n                var _a;\n                const value = (_a = item.attributes.getNamedItem(ON_HOVER_CLASS_NAME)) === null || _a === void 0 ? void 0 : _a.value;\n                if (value === \"pointer\") {\n                    cursorBorder.style.backgroundColor = \"rgba(255, 255, 255, .6)\";\n                    cursorBorder.style.setProperty(\"--size\", \"30px\");\n                }\n                if (value === \"pointer2\") {\n                    cursorBorder.style.backgroundColor = \"white\";\n                    cursorBorder.style.mixBlendMode = \"difference\";\n                    cursorBorder.style.setProperty(\"--size\", \"80px\");\n                }\n            });\n            item.addEventListener(\"mouseout\", (_) => {\n                cursorBorder.style.backgroundColor = \"unset\";\n                cursorBorder.style.mixBlendMode = \"unset\";\n                cursorBorder.style.setProperty(\"--size\", \"50px\");\n            });\n        });\n    }\n    handleGesture() {\n        const cursor = this.cursor.self;\n        // const cursorBorder = this.cursor.border.self;\n        document.addEventListener(\"selectionchange\", (_) => {\n            var _a;\n            if ((((_a = window.getSelection()) === null || _a === void 0 ? void 0 : _a.toString().length) || 0) > 0 && !cursor.classList.contains(\"copy\")) {\n                this.cursor.self.classList.add(\"copy\");\n            }\n        });\n        document.addEventListener(\"mouseup\", (_) => {\n            setTimeout(() => {\n                this.cursor.self.classList.remove(\"copy\");\n            }, 1000);\n        });\n    }\n    createDiv(id) {\n        const div = document.createElement('div');\n        div.id = id;\n        return div;\n    }\n    createStyle() {\n        const border = this.options.border;\n        const style = document.createElement('style');\n        style.innerHTML = `\n        \n            html {\n                cursor: ${this.options.cursor.visible ? \"default\" : \"none\"};\n            }\n            \n            #${CURSOR_CLASS_NAME} {\n              opacity: 0;\n              display: block;\n              position: fixed;\n              top: -5px;\n              left: -5px;\n              width: 10px;\n              height: 10px;\n              background-color: white;\n              border-radius: 50%;\n              pointer-events: none;\n              transition:\n                top ${border.transition}s ease-out,\n                left ${border.transition}s ease-out,\n                width ${border.transition}s ease-out,\n                height ${border.transition}s ease-out,\n                background-color ${border.transition}s ease-out,\n                opacity 1s ease-out;\n              z-index: 999;\n            }\n            \n            #${CURSOR_CLASS_NAME}.copy {\n                background-color: transparent;\n                border: 1px solid white;\n                width: 1px;\n                height: 15px;\n                border-radius: 0;\n            }\n            \n            #${CURSOR_BORDER_CLASS_NAME} {\n              --size: ${border.size}px;\n              opacity: 0;\n              position: fixed;\n              top: calc(var(--size) / -2);\n              left: calc(var(--size) / -2);\n              width: var(--size);\n              height: var(--size);\n              border-radius: 50%;\n              box-shadow: 0 0 0 ${border.width}px ${border.color};\n              pointer-events: none;\n              transition:\n                top ${border.transition}s ease-out,\n                left ${border.transition}s ease-out,\n                width ${border.transition}s ease-out,\n                height ${border.transition}s ease-out,\n                background-color ${border.transition}s ease-out,\n                opacity 1s ease-out;\n              z-index: 999;\n            }\n            \n            #${CURSOR_CLASS_NAME}.copy + #${CURSOR_BORDER_CLASS_NAME} {\n               --size: ${border.size}px;\n               animation: pulse 0.60s infinite;\n            }\n            \n            @keyframes pulse {\n              0% {\n                box-shadow: 0 0 0 ${border.width + 2}px ${border.color};\n                opacity: 1;\n              }\n              50% {\n                box-shadow: 0 0 0 ${border.width}px ${border.color};\n                opacity: 0.5;\n              }\n              100% {\n                box-shadow: 0 0 0 ${border.width + 2}px ${border.color};\n                opacity: 1;\n              }\n            }\n            \n        `;\n        document.head.appendChild(style);\n    }\n    loop() {\n        const cursorPosition = this.cursor.position;\n        const border = this.cursor.border;\n        const cursorBorderPosition = border.position;\n        cursorBorderPosition.x += (cursorPosition.x - cursorBorderPosition.x) / this.options.easing;\n        cursorBorderPosition.y += (cursorPosition.y - cursorBorderPosition.y) / this.options.easing;\n        border.self.style.transform = `translate(${cursorBorderPosition.x}px, ${cursorBorderPosition.y}px)`;\n        requestAnimationFrame(this.loop.bind(this));\n    }\n}\nexport default OrbitTrace;\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}